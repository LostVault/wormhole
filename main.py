# -*- coding: utf-8 -*-

# region #########################################
#
#            ‚ï¶ ‚ï¶‚ïî‚ïê‚ïó‚ïî‚ïê‚ïó‚ïî‚ï¶‚ïó‚ï¶ ‚ï¶‚ïî‚ïê‚ïó‚ï¶  ‚ïî‚ïê‚ïó
#            ‚ïë‚ïë‚ïë‚ïë ‚ïë‚ï†‚ï¶‚ïù‚ïë‚ïë‚ïë‚ï†‚ïê‚ï£‚ïë ‚ïë‚ïë  ‚ï†‚ïê
#            ‚ïö‚ï©‚ïù‚ïö‚ïê‚ïù‚ï©‚ïö‚ïê‚ï© ‚ï©‚ï© ‚ï©‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù
#
##################################################
#
#                     –ü–ê–ú–Ø–¢–ö–ê
#
# –°–í–û–†–ê–ß–ò–í–ê–ù–ò–ï –ö–û–î–ê
# –†–∞–∑–≤–µ—Ä—Ä–Ω—É—Ç—å –≤—Å—ë   [Ctrl] + [Shift] + [‚ûï]
# –°–≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë      [Ctrl] + [Shift] + [‚ûñ]
#
#
# –ó–∞–∫–∫–æ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å. –†–∞—Å—Å–∫–æ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å [Ctrl] + [.]
#
# endregion #######################################


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ò–ú–ü–û–†–¢ –ë–ò–ë–õ–ò–û–¢–ï–ö
import discord  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ä–∞–±–æ—Ç—ã —Å Discord API (Application Programming Interface)
from discord import app_commands  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∫–æ–º–∞–Ω–¥ —Å –∫–æ—Å–æ–π —á–µ—Ä—Ç–æ–π
# from discord import Webhook, AsyncWebhookAdapter # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Webhook


import time  # TODO: –£–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –¥–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É ·ìö·òè·ó¢
import typing  # TODO: –£–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –¥–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É ·ìö·òè·ó¢
import logging  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂—É—Ä–Ω–∞–ª–æ–º (log)
# import aiohttp  # TODO: –£–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –¥–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É ·ìö·òè·ó¢
import aiosqlite  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ SQLite
# import tempfile
# from pathlib import Path
# from os import listdir

# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ò–ú–ü–û–†–¢ –ë–ò–ë–õ–ò–û–¢–ï–ö // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ò–ú–ü–û–†–¢ –ú–û–î–£–õ–ï–ô
import config  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ò–ú–ü–û–†–¢ –ú–û–î–£–õ–ï–ô // –ö–û–ù–ï–¶



# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ üòà ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ò –ù–ê–ó–´–í–ê–ï–ú –ï–ì–û CLIENT


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ü–†–û–í–ï–†–Ø–ï–ú –í –ö–ê–ö–û–ú –û–ö–†–£–ñ–ï–ù–ò–ï –ó–ê–ü–£–©–ï–ù–û –ü–†–ò–õ–û–ñ–ï–ù–ò–ï
MY_GUILD = discord.Object(id=978692915092152391)  # replace with your guild id


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ü–†–û–í–ï–†–Ø–ï–ú –í –ö–ê–ö–û–ú –û–ö–†–£–ñ–ï–ù–ò–ï –ó–ê–ü–£–©–ï–ù–û –ü–†–ò–õ–û–ñ–ï–ù–ò–ï // –ö–û–ù–ï–¶


class MyClient(discord.Client):
    def __init__(self, *, intents: discord.Intents):
        super().__init__(intents=intents)
        # CommandTree - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–∞–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –µ–≥–æ —Ä–∞–±–æ—Ç—ã.
        # –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
        # –í—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤–∞—à–µ –¥–µ—Ä–µ–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏—Ö —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º–∏.
        # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ commands.Bot –≤–º–µ—Å—Ç–æ discord.Client, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –±–æ—Ç –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–≤–æ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ.
        self.tree = app_commands.CommandTree(self)

    # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    # –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∫–∞–∑—ã–≤–∞—Ç—å ID —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –∫–æ–ø–∏—Ä—É–µ–º –Ω–∞—à–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.
    # –ü–æ—Å—Ç—É–ø–∞—è —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å –¥–æ —á–∞—Å–∞, –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –∫–æ–Ω–µ—á–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
    async def setup_hook(self):
        # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏
        self.tree.copy_global_to(guild=MY_GUILD)
        await self.tree.sync(guild=MY_GUILD)


intents = discord.Intents.default()

# –ù–∞–∑–Ω–∞—á–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# –ü–æ–¥—Ä–±–Ω–æ–±–Ω–æ –æ –Ω–∞–º–µ—Ä–∏–Ω–∏—è—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ https://discordpy.readthedocs.io/en/latest/intents.html
intents.guilds = True
intents.message_content = True  # 'message_content' —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π
intents.guild_messages = True

client = MyClient(intents=intents)


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –®–ê–ë–õ–û–ù –° –°–°–´–õ–ö–û–ô –î–õ–Ø –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –ö –°–ï–†–í–ï–†–£
def get_invite_link(bot_id):
    return f'https://discord.com/oauth2/authorize?client_id={bot_id}&scope=bot%20applications.commands'


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –®–ê–ë–õ–û–ù –° –°–°–´–õ–ö–û–ô –î–õ–Ø –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –ö –°–ï–†–í–ï–†–£


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –ò –ù–ê–°–¢–†–ê–ò–í–ê–ï–ú –†–ï–ì–ò–°–¢–†–ê–¶–ò–Æ –°–û–ë–´–¢–ò–ô
logger = logging.getLogger(__name__)
logger.setLevel(logging.INFO)  # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –Ω–∏–∂–µ —É—Ä–æ–≤–Ω—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
logging.basicConfig(
    level=logging.WARNING,
    format='%(asctime)s - %(levelname)s - %(process)d:%(thread)d: %(module)s:%(lineno)d: %(message)s')


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –ò –ù–ê–°–¢–†–ê–ò–í–ê–ï–ú –†–ï–ì–ò–°–¢–†–ê–¶–ò–Æ –°–û–ë–´–¢–ò–ô // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –†–ï–ì–ò–°–¢–†–ò–†–£–ï–ú –ò–ù–§–û–†–ú–ê–¶–ò–Æ –û –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –í –ö–û–ù–°–û–õ–¨
@client.event
async def on_ready():
    global sql_conn
    sql_conn = await aiosqlite.connect(config.db_file_name)
    await sql_conn.execute('create table if not exists black_list (userid integer not null unique, '
                           'add_timestamp text default current_timestamp, reason text, banner_id integer);')

    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å Python
    logger.info(f'APP Username: {client.user} ')
    logger.info(f'Using token {config.token[0:2]}...{config.token[-3:-1]}')
    logger.info(f'Current env type: {config.environment_type}')
    logger.info(f'Using global channel: {config.globalchannel}')
    logger.info('APP Client ID: {0.user.id} '.format(client))

    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –≤ –∫–æ–Ω—Å–æ–ª—å
    logger.info(f'Link for connection: {get_invite_link(client.user.id)}')

    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å
    logger.info('Servers connected to: ' + ''.join('"' + guild.name + '"; ' for guild in client.guilds))

    # –ò–∑–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    await client.change_presence(status=discord.Status.online, activity=discord.Game(config.app_status_game))


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –†–ï–ì–ò–°–¢–†–ò–†–£–ï–ú –ò–ù–§–û–†–ú–ê–¶–ò–Æ –û –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –í –ö–û–ù–°–û–õ–¨ // –ö–û–ù–ï–¶


# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–´ - –û–°–ù–û–í–ù–´–ï
# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –ü–†–û–í–ï–†–ö–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
@client.tree.command(name="ping")
# –†–∞–∑—Ä–µ—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º —Å–µ—Ä–≤–µ—Ä–æ–≤
@app_commands.default_permissions()
async def ping(interaction: discord.Interaction):
    #  –ü–∏—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."""
    # –°–æ–∑–¥–∞—ë–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    embed = discord.Embed(title='–í–ù–ò–ú–ê–ù–ò–ï!', description=f'–ó–∞–¥–µ—Ä–∂–∫–∞ {round(client.latency * 100, 1)} –º—Å',
                          colour=0x90D400)
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await interaction.response.send_message(embed=embed, ephemeral=True)


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –ü–†–û–í–ï–†–ö–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ò–ù–§–û–†–ú–ê–¶–ò–ò –û –ü–†–ò–õ–û–ñ–ï–ù–ò–ò
@client.tree.command(name="information")
async def information(interaction: discord.Interaction):
    #  –ü–∏—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    """–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ."""
    # –°–æ–∑–¥–∞—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    embed = discord.Embed(title='–ò–ù–§–û–†–ú–ê–¶–ò–Ø', description=f'```{config.app_full_description}```', colour=0x2F3136)
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await interaction.response.send_message(embed=embed, ephemeral=True)


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ò–§–û–†–ú–ê–¶–ò–ò –û –ü–†–ò–õ–û–ñ–ï–ù–ò–ï // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –í–´–í–û–î–ê –°–ü–ò–°–ö–ê –°–ï–†–í–ï–†–û–í
@client.tree.command(name='bulka', description="desc test")
# –†–∞–∑—Ä–µ—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º —Å–µ—Ä–≤–µ—Ä–æ–≤
# @app_commands.default_permissions()
async def test(interaction: discord.Interaction):
    #  –ü–∏—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    """–í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ."""
    # –°–æ–∑–¥–∞—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    embed = discord.Embed(title='–°–ü–ò–°–û–ö –°–ï–†–í–ï–†–û–í', description='```–°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.```', colour=0x2F3136)
    embed.add_field(name='–°–ü–ò–°–û–ö –°–ï–†–í–ï–†–û–í:', value=''.join(guild.name + f' `ID: {guild.id}`\n' for guild in client.guilds))
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await interaction.response.send_message(embed=embed, ephemeral=True)


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –í–´–í–û–î–ê –°–ü–ò–°–ö–ê –°–ï–†–í–ï–†–û–í // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –û–¢–ö–õ–Æ–ß–ï–ù–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø –û–¢ –°–ï–†–í–ï–†–ê
@client.tree.command()
# –†–∞–∑—Ä–µ—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º —Å–µ—Ä–≤–µ—Ä–æ–≤
@app_commands.default_permissions()
@app_commands.describe(id='–£–∫–∞–∂–∏—Ç–µ ID —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–∏—Ç—Å—è')
async def server_leave(interaction: discord.Interaction, id: str):
    #  –ü–∏—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    """–û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞."""

    if (guild_to_leave := client.get_guild(int(id))) is None:
        # –°–æ–∑–¥–∞—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!', description=f'```–°–µ—Ä–≤–µ—Ä —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID ({id}) –Ω–µ –Ω–∞–π–¥–µ–Ω```',
                              color=0xd40000)
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        await interaction.response.send_message(embed=embed, ephemeral=True)
        return

    await guild_to_leave.leave()
    # –°–æ–∑–¥–∞—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    embed = discord.Embed(title='‚úÖ ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!', description=f'```–°–µ—Ä–≤–µ—Ä —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º ID ({id}) —É—Å–ø–µ—à–Ω–æ –ø–æ–∫–∏–Ω—É—Ç```',
                          colour=0x2F3136)
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await interaction.response.send_message(embed=embed, ephemeral=True)


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –û–¢–ö–õ–Æ–ß–ï–ù–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø –û–¢ –°–ï–†–í–ï–†–ê // –ö–û–ù–ï–¶


# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–´ - –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ö–ê–ù–ê–õ–´
# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ü–†–ê–í–ò–õ –ì–õ–û–ë–ê–õ–¨–ù–û–ì–û –ö–ê–ù–ê–õ–ê
@client.tree.command(name="rules")
async def rules_cmd(interaction: discord.Interaction):
    #  –ü–∏—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    """–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞."""
    # –°–æ–∑–¥–∞—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    embed = discord.Embed(title='–ü–†–ê–í–ò–õ–ê', description=f'{config.globalchannel_rules}', colour=0x2F3136)
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await interaction.response.send_message(embed=embed, ephemeral=True)


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ö–û–ú–ê–ù–î–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –ü–†–ê–í–ò–õ –ì–õ–û–ë–ê–õ–¨–ù–û–ì–û –ö–ê–ù–ê–õ–ê // –ö–û–ù–ï–¶


# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ì–õ–û–ê–ë–õ–¨–ù–´–ï –ö–ê–ù–ê–õ–´ - –û–¢–ü–†–ê–í–ö–ê –°–û–û–ë–ï–©–ù–ò–Ø
# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ü–†–û–í–ï–†–Ø–ï–ú –°–û–ë–©–ï–ù–ò–ï –ù–ê COOLDOWNN
# –°–ª–æ–≤–∞—Ä—å –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è cooldown'a
cooldown: dict[int, int] = dict()


def handle_cooldown(user_id: int) -> typing.Union[bool, int]:
    """–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∞–π–¥–∏—à–Ω–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≤—Ö–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç True –µ—Å–ª–∏ –∫–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–Ω—á–∏–ª—Å—è –∏ –∫–æ–ª-–≤–æ —Å–µ–∫—É–Ω–¥
    –¥–æ –∫–æ–Ω—Ü–∞ –∫–¥, –µ—Å–ª–∏ –Ω–µ –∫–æ–Ω—á–∏–ª—Å—è
    –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–¥ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    TODO: –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, —Ä–∞–∑–º–µ—Ä cooldown –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏—á—å –±–æ–ª—å—à–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
    :param user_id: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–¥ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–¥
    :return: –ú–æ–∂–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
    """

    global cooldown
    # –ó–Ω–∞—á–µ–Ω–∏–µ–º –≤ cooldown —è–≤–ª—è–µ—Ç—Å—è –≤—Ä–µ–º—è –≤ unix —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

    if user_id in cooldown:
        if int(time.time()) > cooldown[user_id]:
            # –∫–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ–Ω—á–∏–ª—Å—è
            cooldown[user_id] = int(time.time()) + config.cooldown  # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–î –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            return True

        else:
            # –∫–¥ –Ω–µ –∫–æ–Ω—á–∏–ª—Å—è
            return int(cooldown[user_id] - time.time())

    else:
        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ –ö–î —Å–ø–∏—Å–∫–µ, –¥–æ–±–∞–≤–∏–º —Ç—É–¥–∞ –∏ —Ä–∞–∑—Ä–µ—à–∏–º –æ—Ç–ø—Ä–∞–≤–∫—É —Å–µ–π—á–∞—Å
        cooldown[user_id] = int(time.time()) + config.cooldown
        return True


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –ü–†–û–í–ï–†–Ø–ï–ú –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –ù–ê COOLDOWNN // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –®–ê–ë–õ–û–ù –î–õ–Ø –ü–ï–†–ï–°–´–õ–ö–ò –°–û–û–ë–©–ï–ù–ò–Ø –ù–ê –í–°–ï –°–ï–†–í–ï–†–ê
async def send_Global_messages(*args, **kwargs):
    """
    send message to all connected servers to config.globalchannel channel, arguments as for channel.send()
    :param args:
    :param kwargs:
    :return:
    """
    logger.debug(f"Sending to servers {args} {kwargs}")
    for guild in client.guilds:
        if channel := discord.utils.get(guild.text_channels, name=config.globalchannel):
            try:
                # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ –æ—á–µ—Ä–µ–¥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–æ–º —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
                # –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –µ–≥–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∞ –≤ –∏–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–µ—Ç
                if channel.guild != message_guild:
                    await channel.send(*args, **kwargs)
            except discord.Forbidden as e:
                logger.warning(f"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ {guild.name}: discord.Forbidden\n{e}")
            except discord.HTTPException as e:
                logger.warning(f"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ {guild.name}: discord.HTTPException\n{e}")
            except Exception as e:
                logger.warning(f"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ {guild.name}: {e}")


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –®–ê–ë–õ–û–ù –î–õ–Ø –ü–ï–†–ï–°–´–õ–ö–ò –°–û–û–ë–©–ï–ù–ò–Ø –ù–ê –í–°–ï –°–ï–†–í–ï–†–ê // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –®–ê–ë–õ–û–ù –î–õ–Ø –ü–ï–†–ï–°–´–õ–ö–ò WEBHOOK –ù–ê –í–°–ï –°–ï–†–í–ï–†–ê
# async def send_Global_webhook(*args, **kwargs):

# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –®–ê–ë–õ–û–ù –î–õ–Ø –ü–ï–†–ï–°–´–õ–ö–ò WEBHOOK –ù–ê –í–°–ï –°–ï–†–í–ï–†–ê // –ö–û–ù–ï–¶


# region ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –í–´–í–û–î–ò–ú –°–û–û–ë–©–ï–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô –í –ö–û–ù–°–û–õ–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø –ò –ü–ï–†–ï–ù–ê–ü–†–ê–í–õ–Ø–ï–ú –ù–ê –î–†–£–ì–ò–ï –°–ï–†–í–ï–†–ê
@client.event
async def on_message(message):
    # Console Log // –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–æ–Ω—Å–æ–ª—å Python
    logger.info('Message: {0.guild} / #{0.channel} / {0.author}: {0.content}'.format(message))

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —ç—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
    if message.author.id == client.user.id:
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –õ–°
    if isinstance(message.channel, discord.DMChannel):
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –∫–∞–Ω–∞–ª–µ
    if message.channel.name != config.globalchannel:
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
    if message.author.bot:
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º
    if message.mentions or message.mention_everyone:
        # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
        await message.add_reaction("‚ùå")
        # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                              description='```–°–æ–æ–±—â–µ–Ω–∏—è —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç.```',
                              color=0xd40000)
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
        await message.channel.send(embed=embed, delete_after=13)
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å–∏–º–≤–æ–ª–æ–º "@"
    if "@" in message.content:
        # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
        await message.add_reaction("‚ùå")
        # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                              description='```–°–æ–æ–±—â–µ–Ω–∏—è —Å —Å–∏–º–≤–æ–ª–æ–º "@" –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç.```',
                              color=0xd40000)
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
        await message.channel.send(embed=embed, delete_after=13)
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–∑ —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
    if (await (
    await sql_conn.execute('select count(*) from black_list where userid = ?;', [message.author.id])).fetchone())[
        0] == 1:
        # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
        await message.add_reaction("‚ùå")
        # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                              description='```–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞, –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç.\n–í–∞–º –ø–æ –ø—Ä–µ–∂–Ω–µ–º—É –¥–æ—Å—Ç—É–ø–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.```',
                              color=0xd40000)
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
        await message.channel.send(embed=embed, delete_after=13)
        return

    # –ü—Ä–æ–≤–µ—Ä—è–π–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω–æ–µ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ
    if len(message.clean_content) < config.shortmessages:
        # –£–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        await message.add_reaction("‚ùå")
        # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                              description=f'```–°–æ–æ–±—â–µ–Ω–∏—è –¥–ª–∏–Ω–æ–π –º–µ–Ω–µ–µ {config.shortmessages} —Å–∏–º–≤–æ–ª–æ–≤ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç.```',
                              color=0xd40000)
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
        await message.channel.send(embed=embed, delete_after=13)
        return

    # –ü—Ä–æ–≤–µ—Ä—è–π–µ–º –≤—Ä–µ–º—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    kd_status = handle_cooldown(message.author.id)
    # if isinstance(kd_status, int):
    if type(kd_status) is int:
        # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
        await message.add_reaction("‚ùå")
        # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                              description=f'```–° –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ—à–ª–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ —á–µ—Ä–µ–∑ {kd_status} —Å–µ–∫—É–Ω–¥.```',
                              color=0xd40000)
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
        await message.channel.send(embed=embed, delete_after=13)
        return

    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–µ –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞
    splitted_message: list = message.content.lower().split(' ')
    for message_fragment in splitted_message:
        if 'http://' in message_fragment or 'https://' in message_fragment:
            # probably link
            splited_link = message_fragment.split('/')
            domain = splited_link[2]
            if domain in config.whitelistlinks:
                pass

            else:
                # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
                await message.add_reaction("‚ùå")
                # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                embed = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                                      description='```–°–æ–æ–±—â–µ–Ω–∏—è —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Å–∞–π—Ç—ã –Ω–µ –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç.```',
                                      color=0xd40000)
                # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
                await message.channel.send(embed=embed, delete_after=13)
                return

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    for attachment in message.attachments:
        if attachment.filename.endswith(('bmp', 'jpeg', 'jpg', 'png', 'gif')):
            pass
        else:
            # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –Ω–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
            await message.add_reaction("‚ùå")
            # –°–æ–∑–¥–∞—ë–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            emFilterFormatFiles = discord.Embed(title='‚ùå ‚Ä¢ –í–ù–ò–ú–ê–ù–ò–ï!',
                                                description='```–¢–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ *.bmp, *.jpeg, *.jpg, *.png, *.gif, –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç.```',
                                                color=0xd40000)
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ 13 —Å–µ–∫—É–Ω–¥
            await message.channel.send(embed=emFilterFormatFiles, delete_after=13)
            return

    # –°–æ–∑–¥–∞—ë–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–∞ —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
    # –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –µ–≥–æ –≤ –®–ê–ë–õ–û–ù–ï –î–õ–Ø –ü–ï–†–ï–°–´–õ–ö–ò –°–û–û–ë–©–ï–ù–ò–Ø –ù–ê –í–°–ï –°–ï–†–í–ï–†–ê
    global message_guild
    message_guild = message.guild

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
    await send_Global_messages(f'> **{message.author.name}** // –°–µ—Ä–≤–µ—Ä: `{message.guild.name}` // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `{message.author.id}`\n{message.content}', files=[await f.to_file() for f in message.attachments])
    # –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–µ–π –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ
    # TODO: –•–æ—Ç—è –æ–Ω–æ –Ω–∞–≤–µ—Ä–Ω–æ–µ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è, –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –∫–∞–∫—É—é-—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫—É ·ìö·òè·ó¢
    await message.add_reaction("‚úÖ")

    # if len(message.attachments) > 0:
    #     with tempfile.TemporaryDirectory() as tmpdirname:
    #         temp_dir = Path(tmpdirname)
    #         print('created temporary directory', tmpdirname)
    #         for f in message.attachments:
    #             await f.save(f"{temp_dir}/{attachment.filename}")
    #             for attachment in Path(temp_dir).glob('*'):
    #                 print(attachment)
    #             await send_to_servers(f'> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `{message.author.name}` // –°–µ—Ä–≤–µ—Ä: `{message.guild.name}` // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `{message.author.id}`\n{message.content}', files=[discord.File(attachment) for attachment in Path(temp_dir).glob('*')])
    # else:
    #     await send_to_servers(f'> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `{message.author.name}` // –°–µ—Ä–≤–µ—Ä: `{message.guild.name}` // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `{message.author.id}`\n{message.content}')


# endregion ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –í–´–í–û–î–ò–ú –°–û–û–ë–©–ï–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô –í –ö–û–ù–°–û–õ–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø –ò –ü–ï–†–ï–ù–ê–ü–†–ê–í–õ–Ø–ï–ú –ù–ê –î–†–£–ì–ò–ï –°–ï–†–í–ï–†–ê // –ö–û–ù–ï–¶


client.run(config.token)

# ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ü¶Ü ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ –°–û–ó–î–ê–Å–ú –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ò –ù–ê–ó–´–í–ê–ï–ú –ï–ì–û CLIENT // –ö–û–ù–ï–¶